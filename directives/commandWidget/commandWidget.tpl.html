<div id="commands">
    <div class="command-fix">

        <md-button ng-if="CommandWidgetController.hasDelete"
                   class="md-warn md-raised md-fab"
                   ng-class="{disabled:CommandWidgetController.deleteDisabled}"
                   ng-click="!CommandWidgetController.deleteDisabled && CommandWidgetController.deleteAction($event)"
                   aria-label="Delete">
            <md-icon>delete</md-icon>
            <md-tooltip md-direction="top">Delete</md-tooltip>
        </md-button>
        <md-button ng-if="CommandWidgetController.hasSave"
                   class="md-accent md-raised md-fab"
                   ng-class="{disabled:CommandWidgetController.saveDisabled}"
                   aria-label="Save"
                   ng-click="!CommandWidgetController.saveDisabled && CommandWidgetController.saveAction($event)"
                   ng-mouseover="CommandWidgetController.onSavePopover()"
        >
            <md-icon>check</md-icon>

            <md-tooltip md-direction="top">Save</md-tooltip>

            <drop
                    ng-if="CommandWidgetController.saveDisabled && CommandWidgetController.invalidControls.length"
                    classes="'drop-theme-arrows-bounce validation-popover'"
                    constrain-to-scroll-parent='false'
                    constrain-to-window='true'
                    open-on="'always'"
                    position="'top right'">

                <div>
                    <h3>Fix these issues before you save</h3>
                    <ul>
                        <li ng-repeat="invalidControl in CommandWidgetController.invalidControls">
                            <span>{{invalidControl.label}}</span>
                            <md-button ng-click="CommandWidgetController.scrollToControl(invalidControl)">
                                <md-icon>link</md-icon>
                            </md-button>
                        </li>
                    </ul>
                </div>

            </drop>


        </md-button>

        <md-button ng-if="CommandWidgetController.hasCancel"
                   class="md-primary md-fab"
                   ng-class="{disabled:CommandWidgetController.cancelDisabled}"
                   aria-label="Cancel"
                   ng-click="!CommandWidgetController.cancelDisabled && CommandWidgetController.cancelAction($event)">
            <md-icon>close</md-icon>
            <md-tooltip md-direction="top">Cancel</md-tooltip>
        </md-button>
    </div>
</div>